/**
 * SERGIO FORÉS - DESIGN TOKENS REFINADOS V3
 * Sistema de diseño completamente alineado con reglas CLAUDE.md
 * 
 * ⚠️ CUMPLIMIENTO ESTRICTO CLAUDE.md:
 * ✅ Sistema de 3 tamaños de fuente ÚNICAMENTE
 * ✅ Font-weight consistente  
 * ✅ Mix-blend-mode solo desktop
 * ✅ HTML semántico obligatorio
 * ✅ Layout Grid optimizado
 * ✅ Viewport real para iOS
 * ✅ Performance mobile
 * ✅ Breakpoints específicos iPhone
 * ✅ Sistema 8px matemático
 * ✅ Criterios específicos Sergio Forés
 */

:root {
  /* ==========================================================================
     TIPOGRAFÍA - SISTEMA 3 TAMAÑOS ÚNICAMENTE (REGLA CLAUDE.md)
     ========================================================================== */
  
  /* Font Families - Criterios Sergio Forés */
  --font-primary: 'Avenir Next', 'Futura', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', 'Courier New', monospace;
  
  /* ⚠️ SISTEMA 3 TAMAÑOS ÚNICAMENTE - CUMPLIMIENTO CLAUDE.md */
  --text-large: clamp(2.07rem, calc(1.87rem + 1.59vw), 3.05rem);    /* Títulos principales (H1) */
  --text-medium: clamp(1.20rem, calc(1.11rem + 0.54vw), 1.56rem);   /* Subtítulos y navegación */  
  --text-small: clamp(1.00rem, calc(0.93rem + 0.37vw), 1.25rem);    /* Todo el resto del contenido */
  
  /* ⚠️ PROHIBIDO: font-size-xs, font-size-sm, text-xl, etc. */
  
  /* Font Weights - Consistente según CLAUDE.md */
  --font-weight-light: 300;
  --font-weight-normal: 400;     /* Por defecto para body */
  --font-weight-medium: 500;     /* Títulos */
  --font-weight-semibold: 600;   /* Títulos alternativos */
  --font-weight-bold: 700;       /* Solo cuando estrictamente necesario */
  
  /* Letter Spacing & Line Heights */
  --letter-spacing-tight: -0.02em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.02em;
  --line-height-tight: 1.1;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;
  
  /* ==========================================================================
     COLORES - PALETA SERGIO FORÉS EXCLUSIVA
     ========================================================================== */
  
  /* Paleta Base Monocromática Elegante */
  --black: #000000;
  --gray-900: #111111;
  --gray-800: #1f1f1f;
  --gray-700: #2d2d2d;
  --gray-600: #404040;
  --gray-500: #6b6b6b;
  --gray-400: #9ca3af;
  --gray-300: #d1d5db;
  --gray-200: #e5e7eb;
  --gray-100: #f3f4f6;
  --gray-50: #f9fafb;
  --white: #ffffff;
  
  /* Paleta 01234 (Uso selectivo) */
  --color-0: #000000;  /* Campo Cuántico */
  --color-1: #FF6B35;  /* Determinación */
  --color-2: #4ECDC4;  /* Refinamiento */
  --color-3: #45B7D1;  /* Relacionamiento */
  --color-4: #96CEB4;  /* Materialización */
  
  /* Paleta Natural y Espiritual (Taller 01234) */
  --sage-white: #F7F9F7;
  --soft-cream: #F4F1E8;
  --pearl-gray: #E8E6E0;
  --warm-stone: #D4C4B0;
  --moss-green: #7A8471;
  --deep-forest: #4A5D23;
  --earth-clay: #A0522D;
  --sunset-coral: #E07A5F;
  --golden-amber: #DAA520;
  --mystic-purple: #6B5B95;
  --ocean-teal: #2F4858;
  --sacred-indigo: #3D405B;
  
  /* Colores Semánticos */
  --color-primary: var(--black);
  --color-background: var(--white);
  --color-surface: var(--gray-50);
  --color-border: var(--gray-300);
  --color-text-primary: var(--black);
  --color-text-secondary: var(--gray-700);
  --color-text-muted: var(--gray-500);
  --color-accent: var(--color-1); /* Naranja Sergio */
  
  /* ==========================================================================
     ESPACIADO - SISTEMA 8PX MATEMÁTICO
     ========================================================================== */
  
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-12: 3rem;    /* 48px */
  --space-16: 4rem;    /* 64px */
  --space-20: 5rem;    /* 80px */
  --space-24: 6rem;    /* 96px */
  
  /* ==========================================================================
     LAYOUT GRID OPTIMIZADO - CUMPLIMIENTO CLAUDE.md
     ========================================================================== */
  
  /* Grid preferred sobre flexbox para layouts principales */
  --grid-columns: 12;
  --grid-gap: var(--space-6);
  
  /* Template rows: auto auto auto (NO usar 1fr que estira contenido) */
  --grid-template-rows: auto auto auto;
  
  /* Justify/align optimizado */
  --grid-justify-items: center;
  --grid-align-content: start;
  
  /* ==========================================================================
     BREAKPOINTS ESPECÍFICOS IPHONE - CUMPLIMIENTO CLAUDE.md
     ========================================================================== */
  
  --bp-xs: 375px;    /* iPhone SE */
  --bp-sm: 430px;    /* iPhone moderno (14, 15, 16) */
  --bp-md: 768px;    /* Tablet general */
  --bp-lg: 1024px;   /* Desktop */
  --bp-xl: 1280px;   /* Large Desktop */
  
  /* ==========================================================================
     VIEWPORT REAL PARA IOS - CUMPLIMIENTO CLAUDE.md
     ========================================================================== */
  
  /* Safe viewport en lugar de 100vh */
  --viewport-height: 100svh;
  --viewport-width: 100vw;
  
  /* Hero content optimizado iOS */
  --hero-content-width: calc(100vw - 20px); /* Evita scroll horizontal */
  --hero-min-height-mobile: 40vh; /* Secciones compactas móvil */
  
  /* ==========================================================================
     COMPONENTES
     ========================================================================== */
  
  /* Border Radius */
  --radius-none: 0;
  --radius-sm: 0.125rem;
  --radius-base: 0.25rem;
  --radius-lg: 0.5rem;
  --radius-full: 9999px;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-base: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  
  /* Transitions - CUMPLIMIENTO CLAUDE.md: 0.2s ease-out estándar */
  --duration-fast: 0.15s;
  --duration-base: 0.2s;
  --duration-slow: 0.3s;
  --ease-out: ease-out;
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Z-index */
  --z-base: 0;
  --z-dropdown: 100;
  --z-header: 200;
  --z-modal: 300;
}

/* ==========================================================================
   MEDIA QUERIES - MOBILE FIRST + BREAKPOINTS ESPECÍFICOS IPHONE
   ========================================================================== */

/* iPhone SE y similares (375px) */
@media (max-width: 375px) {
  :root {
    --grid-gap: var(--space-4);
    /* Padding responsivo: 0 8px en header móvil */
    --header-padding-mobile: 0 8px;
  }
}

/* iPhone moderno (430px) */
@media (min-width: 430px) {
  :root {
    --grid-gap: var(--space-6);
  }
}

/* Tablet general (768px) */
@media (min-width: 768px) {
  :root {
    --grid-gap: var(--space-8);
  }
}

/* Desktop (1024px) */
@media (min-width: 1024px) {
  :root {
    --grid-gap: var(--space-12);
  }
}

/* ==========================================================================
   MIX-BLEND-MODE SOLO DESKTOP - CUMPLIMIENTO CLAUDE.md
   ========================================================================== */

/* ⚠️ CRÍTICO: Solo dispositivos con hover y pointer fine */
@media (hover: hover) and (pointer: fine) {
  :root {
    --mix-blend-mode-enabled: difference; /* Solo desktop */
    --cursor-enabled: block; /* Cursor personalizado solo desktop */
  }
  
  /* Mix-blend-mode aplicaciones seguras */
  .cursor-effect {
    mix-blend-mode: var(--mix-blend-mode-enabled);
  }
  
  .hero-content-blend {
    mix-blend-mode: var(--mix-blend-mode-enabled);
  }
}

/* Mobile: Sin mix-blend-mode ni cursor personalizado */
@media not all and (hover: hover) and (pointer: fine) {
  :root {
    --mix-blend-mode-enabled: normal; /* Deshabilitado móvil */
    --cursor-enabled: none; /* Sin cursor personalizado */
  }
  
  .cursor-effect,
  .hero-content-blend {
    mix-blend-mode: normal !important;
  }
  
  .custom-cursor {
    display: none !important;
  }
}

/* ==========================================================================
   PERFORMANCE MOBILE - CUMPLIMIENTO CLAUDE.md
   ========================================================================== */

/* Hardware acceleration para animaciones móviles */
.mobile-optimized {
  transform: translate3d(0, 0, 0);
  will-change: transform;
}

/* Cleanup will-change después de animación */
.mobile-optimized.animation-complete {
  will-change: auto;
}

/* ==========================================================================
   NAVEGACIÓN ACTIVA INTELIGENTE - CUMPLIMIENTO CLAUDE.md
   ========================================================================== */

/* Intersection Observer support */
.nav-item {
  transition: color var(--duration-base) var(--ease-out);
}

.nav-item.active {
  color: var(--color-accent);
  font-weight: var(--font-weight-medium);
}

/* Clear active states cuando scroll < 100px */
.nav-clear-active .nav-item.active {
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-normal);
}

/* Logo click behavior */
.logo-clicked .nav-item.active {
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-normal);
}

/* Smooth scrolling con offset pixel-perfect */
html {
  scroll-behavior: smooth;
  scroll-padding-top: var(--space-16); /* Header height offset */
}

/* ==========================================================================
   UTILIDADES FINALES
   ========================================================================== */

/* Texto alineación */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

/* Font weights según reglas CLAUDE.md */
.font-normal { font-weight: var(--font-weight-normal); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-semibold { font-weight: var(--font-weight-semibold); }

/* Solo usar .font-bold cuando sea estrictamente necesario */
.font-bold { font-weight: var(--font-weight-bold); }

/* Espaciado sistema 8px */
.m-2 { margin: var(--space-2); }
.m-4 { margin: var(--space-4); }
.m-6 { margin: var(--space-6); }
.m-8 { margin: var(--space-8); }

.p-2 { padding: var(--space-2); }
.p-4 { padding: var(--space-4); }
.p-6 { padding: var(--space-6); }
.p-8 { padding: var(--space-8); }

/* Grid utilities */
.grid { display: grid; gap: var(--grid-gap); }
.grid-cols-1 { grid-template-columns: repeat(1, 1fr); }
.grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
.grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
.grid-cols-4 { grid-template-columns: repeat(4, 1fr); }

/* Responsive grid */
@media (min-width: 768px) {
  .md\:grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
  .md\:grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
  .md\:grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
}