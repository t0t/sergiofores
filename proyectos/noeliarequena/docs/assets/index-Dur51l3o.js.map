{"version":3,"file":"index-Dur51l3o.js","sources":["../../src/js/modules/Animator.js","../../src/js/modules/router.js","../../src/js/modules/Store.js","../../src/js/modules/EventBus.js","../../src/views/BaseView.js","../../src/views/Home.js","../../src/views/Exposiciones.js","../../src/js/store/gallery.js","../../src/views/Artworks.js","../../src/js/components/TabLink.js","../../src/views/Bio.js","../../src/js/components/Header.js","../../src/js/components/Navigation.js","../../src/js/components/Footer.js","../../src/js/store/ui.js","../../src/js/main.js"],"sourcesContent":["export default class Animator {\n    static async fadeIn(element, duration = 300) {\n        element.style.opacity = '0';\n        element.style.display = '';\n        element.style.transition = `opacity ${duration}ms ease-in-out`;\n        \n        // Force reflow\n        element.offsetHeight;\n        \n        element.style.opacity = '1';\n        \n        return new Promise(resolve => {\n            setTimeout(() => {\n                element.style.transition = '';\n                resolve();\n            }, duration);\n        });\n    }\n\n    static async fadeOut(element, duration = 300) {\n        element.style.opacity = '1';\n        element.style.transition = `opacity ${duration}ms ease-in-out`;\n        \n        // Force reflow\n        element.offsetHeight;\n        \n        element.style.opacity = '0';\n        \n        return new Promise(resolve => {\n            setTimeout(() => {\n                element.style.display = 'none';\n                element.style.transition = '';\n                resolve();\n            }, duration);\n        });\n    }\n\n    static async slideIn(element, direction = 'right', duration = 300) {\n        const start = direction === 'right' ? '100%' : '-100%';\n        \n        element.style.transform = `translateX(${start})`;\n        element.style.display = '';\n        element.style.transition = `transform ${duration}ms ease-in-out`;\n        \n        // Force reflow\n        element.offsetHeight;\n        \n        element.style.transform = 'translateX(0)';\n        \n        return new Promise(resolve => {\n            setTimeout(() => {\n                element.style.transition = '';\n                resolve();\n            }, duration);\n        });\n    }\n\n    static async slideOut(element, direction = 'left', duration = 300) {\n        const end = direction === 'left' ? '-100%' : '100%';\n        \n        element.style.transform = 'translateX(0)';\n        element.style.transition = `transform ${duration}ms ease-in-out`;\n        \n        // Force reflow\n        element.offsetHeight;\n        \n        element.style.transform = `translateX(${end})`;\n        \n        return new Promise(resolve => {\n            setTimeout(() => {\n                element.style.display = 'none';\n                element.style.transition = '';\n                resolve();\n            }, duration);\n        });\n    }\n\n    static async crossFade(oldElement, newElement, duration = 300) {\n        await Promise.all([\n            this.fadeOut(oldElement, duration),\n            this.fadeIn(newElement, duration)\n        ]);\n    }\n\n    static async crossSlide(oldElement, newElement, direction = 'left', duration = 300) {\n        await Promise.all([\n            this.slideOut(oldElement, direction, duration),\n            this.slideIn(newElement, direction === 'left' ? 'right' : 'left', duration)\n        ]);\n    }\n\n    static parallax(element, scrollElement = window, options = {}) {\n        const {\n            speed = 0.5,\n            direction = 'vertical',\n            min = -100,\n            max = 100\n        } = options;\n\n        const handleScroll = () => {\n            const rect = element.getBoundingClientRect();\n            const scrollPos = scrollElement === window ? \n                window.pageYOffset : \n                scrollElement.scrollTop;\n            \n            const offset = direction === 'vertical' ?\n                (scrollPos * speed) :\n                (scrollPos * speed);\n            \n            const clampedOffset = Math.max(min, Math.min(max, offset));\n            \n            element.style.transform = direction === 'vertical' ?\n                `translateY(${clampedOffset}px)` :\n                `translateX(${clampedOffset}px)`;\n        };\n\n        if (scrollElement === window) {\n            window.addEventListener('scroll', handleScroll);\n            // Call once to set initial position\n            handleScroll();\n        } else {\n            scrollElement.addEventListener('scroll', handleScroll);\n            // Call once to set initial position\n            handleScroll();\n        }\n\n        // Return cleanup function\n        return () => {\n            if (scrollElement === window) {\n                window.removeEventListener('scroll', handleScroll);\n            } else {\n                scrollElement.removeEventListener('scroll', handleScroll);\n            }\n        };\n    }\n}\n","import Animator from './Animator.js';\n\nexport class Router {\n    constructor(options = {}) {\n        this.routes = new Map();\n        this.notFoundHandler = options.notFoundHandler || (() => {\n            console.error('Route not found');\n        });\n        this.container = options.container;\n        if (!this.container) {\n            throw new Error('Router container not found');\n        }\n        this.currentView = null;\n        this.isTransitioning = false;\n        this.pendingNavigation = null;\n\n        // Create a wrapper for view transitions\n        this.viewWrapper = document.createElement('div');\n        this.viewWrapper.className = 'view-wrapper';\n        this.container.appendChild(this.viewWrapper);\n\n        // Handle navigation\n        window.addEventListener('popstate', () => this.handleRoute());\n        document.addEventListener('click', (e) => {\n            const link = e.target.closest('[data-link]');\n            if (link) {\n                e.preventDefault();\n                this.navigate(link.getAttribute('href'));\n            }\n        });\n    }\n\n    addRoute(path, view) {\n        path = this.normalizePath(path);\n        this.routes.set(path, view);\n        return this;\n    }\n\n    normalizePath(path) {\n        if (!path.startsWith('/')) {\n            path = '/' + path;\n        }\n        if (path !== '/' && path.endsWith('/')) {\n            path = path.slice(0, -1);\n        }\n        return path;\n    }\n\n    async cleanupCurrentView() {\n        if (this.currentView) {\n            try {\n                await Animator.fadeOut(this.currentView.container);\n                this.currentView.destroy();\n                this.currentView = null;\n            } catch (error) {\n                console.error('Error cleaning up current view:', error);\n            }\n        }\n    }\n\n    async handleRoute() {\n        if (this.isTransitioning) {\n            // Si hay una transición en curso, guardar la navegación pendiente\n            const path = this.normalizePath(window.location.pathname);\n            this.pendingNavigation = path;\n            return;\n        }\n        \n        let path = this.normalizePath(window.location.pathname);\n        let View = this.routes.get(path);\n\n        if (!View && path.endsWith('/')) {\n            path = path.slice(0, -1);\n            View = this.routes.get(path);\n        }\n\n        if (!View && !path.endsWith('/')) {\n            View = this.routes.get(path + '/');\n        }\n\n        if (!View) {\n            console.warn(`Route not found: ${path}`);\n            this.notFoundHandler();\n            return;\n        }\n\n        this.isTransitioning = true;\n\n        try {\n            // Limpiar la vista actual\n            await this.cleanupCurrentView();\n\n            // Limpiar el contenedor\n            this.viewWrapper.innerHTML = '';\n\n            // Crear e inicializar la nueva vista\n            const newView = new View(this.viewWrapper);\n            await newView.init();\n            \n            // Mostrar la nueva vista con animación\n            await Animator.fadeIn(newView.container);\n            \n            this.currentView = newView;\n        } catch (error) {\n            console.error('Error handling route:', error);\n            this.notFoundHandler();\n        } finally {\n            this.isTransitioning = false;\n\n            // Si hay una navegación pendiente, procesarla\n            if (this.pendingNavigation) {\n                const pendingPath = this.pendingNavigation;\n                this.pendingNavigation = null;\n                if (pendingPath !== path) {\n                    this.navigate(pendingPath, true);\n                }\n            }\n        }\n    }\n\n    async navigate(url, replace = false) {\n        try {\n            const newPath = new URL(url, window.location.origin).pathname;\n            const normalizedNewPath = this.normalizePath(newPath);\n            const normalizedCurrentPath = this.normalizePath(window.location.pathname);\n            \n            if (normalizedNewPath === normalizedCurrentPath) {\n                return;\n            }\n\n            // Si hay una transición en curso, actualizar solo la URL\n            if (this.isTransitioning) {\n                if (replace) {\n                    history.replaceState(null, '', normalizedNewPath);\n                } else {\n                    history.pushState(null, '', normalizedNewPath);\n                }\n                return;\n            }\n\n            if (replace) {\n                history.replaceState(null, '', normalizedNewPath);\n            } else {\n                history.pushState(null, '', normalizedNewPath);\n            }\n\n            await this.handleRoute();\n        } catch (error) {\n            console.error('Error navigating:', error);\n            this.notFoundHandler();\n        }\n    }\n\n    init() {\n        this.handleRoute();\n        return this;\n    }\n}\n\nexport default Router;\n","export class Store {\n    constructor(initialState = {}) {\n        this._state = initialState;\n        this._listeners = new Map();\n        this._reducers = new Map();\n        this._middlewares = [];\n    }\n\n    // Get current state\n    getState() {\n        return { ...this._state };\n    }\n\n    // Add reducer for a specific slice of state\n    addReducer(slice, reducer) {\n        this._reducers.set(slice, reducer);\n        // Initialize state slice if not exists\n        if (!(slice in this._state)) {\n            this._state[slice] = reducer(undefined, { type: '@@INIT' });\n        }\n    }\n\n    // Add middleware\n    addMiddleware(middleware) {\n        this._middlewares.push(middleware);\n    }\n\n    // Subscribe to state changes\n    subscribe(slice, callback) {\n        if (!this._listeners.has(slice)) {\n            this._listeners.set(slice, new Set());\n        }\n        this._listeners.get(slice).add(callback);\n\n        // Return unsubscribe function\n        return () => {\n            const listeners = this._listeners.get(slice);\n            if (listeners) {\n                listeners.delete(callback);\n                if (listeners.size === 0) {\n                    this._listeners.delete(slice);\n                }\n            }\n        };\n    }\n\n    // Dispatch an action\n    dispatch(action) {\n        // Run action through middleware chain\n        let finalAction = this._middlewares.reduce(\n            (acc, middleware) => middleware(this)(acc),\n            action\n        );\n\n        // Find affected state slices and their reducers\n        let hasChanged = false;\n        const newState = { ...this._state };\n\n        this._reducers.forEach((reducer, slice) => {\n            const previousStateForSlice = this._state[slice];\n            const nextStateForSlice = reducer(previousStateForSlice, finalAction);\n\n            if (previousStateForSlice !== nextStateForSlice) {\n                hasChanged = true;\n                newState[slice] = nextStateForSlice;\n                \n                // Notify listeners for this slice\n                const listeners = this._listeners.get(slice);\n                if (listeners) {\n                    listeners.forEach(listener => listener(nextStateForSlice, previousStateForSlice));\n                }\n            }\n        });\n\n        if (hasChanged) {\n            this._state = newState;\n        }\n\n        return finalAction;\n    }\n\n    // Create an action creator\n    static createAction(type) {\n        const actionCreator = (payload) => ({\n            type,\n            payload\n        });\n        actionCreator.toString = () => type;\n        return actionCreator;\n    }\n\n    // Create a reducer\n    static createReducer(initialState, handlers) {\n        return (state = initialState, action) => {\n            if (handlers.hasOwnProperty(action.type)) {\n                return handlers[action.type](state, action);\n            }\n            return state;\n        };\n    }\n\n    // Combine multiple reducers\n    static combineReducers(reducers) {\n        return (state = {}, action) => {\n            const nextState = {};\n            let hasChanged = false;\n\n            Object.entries(reducers).forEach(([key, reducer]) => {\n                const previousStateForKey = state[key];\n                const nextStateForKey = reducer(previousStateForKey, action);\n\n                nextState[key] = nextStateForKey;\n                hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n            });\n\n            return hasChanged ? nextState : state;\n        };\n    }\n\n    // Create async action\n    static createAsyncAction(type, asyncFn) {\n        const actions = {\n            request: Store.createAction(`${type}_REQUEST`),\n            success: Store.createAction(`${type}_SUCCESS`),\n            failure: Store.createAction(`${type}_FAILURE`)\n        };\n\n        return (...args) => async (dispatch) => {\n            dispatch(actions.request());\n\n            try {\n                const result = await asyncFn(...args);\n                dispatch(actions.success(result));\n                return result;\n            } catch (error) {\n                dispatch(actions.failure(error));\n                throw error;\n            }\n        };\n    }\n\n    // Helper to create a selector\n    static createSelector(...args) {\n        const selectors = args.slice(0, -1);\n        const combiner = args[args.length - 1];\n        let lastResults = null;\n        let lastValue = null;\n\n        return (state) => {\n            const currentResults = selectors.map(selector => selector(state));\n            \n            if (lastResults && currentResults.every((result, index) => result === lastResults[index])) {\n                return lastValue;\n            }\n\n            lastResults = currentResults;\n            lastValue = combiner(...currentResults);\n            return lastValue;\n        };\n    }\n}\n","export class EventBus {\n    constructor() {\n        this._events = new Map();\n        this._onceEvents = new Map();\n    }\n\n    // Subscribe to an event\n    on(event, callback) {\n        if (!this._events.has(event)) {\n            this._events.set(event, new Set());\n        }\n        this._events.get(event).add(callback);\n\n        // Return unsubscribe function\n        return () => this.off(event, callback);\n    }\n\n    // Subscribe to an event only once\n    once(event, callback) {\n        if (!this._onceEvents.has(event)) {\n            this._onceEvents.set(event, new Set());\n        }\n        this._onceEvents.get(event).add(callback);\n\n        // Return unsubscribe function\n        return () => this.off(event, callback, true);\n    }\n\n    // Unsubscribe from an event\n    off(event, callback, once = false) {\n        const events = once ? this._onceEvents : this._events;\n        const listeners = events.get(event);\n        \n        if (listeners) {\n            listeners.delete(callback);\n            if (listeners.size === 0) {\n                events.delete(event);\n            }\n        }\n    }\n\n    // Emit an event\n    emit(event, ...args) {\n        // Regular event listeners\n        const listeners = this._events.get(event);\n        if (listeners) {\n            listeners.forEach(callback => {\n                try {\n                    callback(...args);\n                } catch (error) {\n                    console.error(`Error in event listener for ${event}:`, error);\n                }\n            });\n        }\n\n        // Once event listeners\n        const onceListeners = this._onceEvents.get(event);\n        if (onceListeners) {\n            onceListeners.forEach(callback => {\n                try {\n                    callback(...args);\n                } catch (error) {\n                    console.error(`Error in once event listener for ${event}:`, error);\n                }\n            });\n            this._onceEvents.delete(event);\n        }\n    }\n\n    // Emit an event and wait for all listeners to complete\n    async emitAsync(event, ...args) {\n        const promises = [];\n\n        // Regular event listeners\n        const listeners = this._events.get(event);\n        if (listeners) {\n            listeners.forEach(callback => {\n                try {\n                    const result = callback(...args);\n                    if (result instanceof Promise) {\n                        promises.push(result);\n                    }\n                } catch (error) {\n                    console.error(`Error in async event listener for ${event}:`, error);\n                    promises.push(Promise.reject(error));\n                }\n            });\n        }\n\n        // Once event listeners\n        const onceListeners = this._onceEvents.get(event);\n        if (onceListeners) {\n            onceListeners.forEach(callback => {\n                try {\n                    const result = callback(...args);\n                    if (result instanceof Promise) {\n                        promises.push(result);\n                    }\n                } catch (error) {\n                    console.error(`Error in async once event listener for ${event}:`, error);\n                    promises.push(Promise.reject(error));\n                }\n            });\n            this._onceEvents.delete(event);\n        }\n\n        return Promise.all(promises);\n    }\n\n    // Check if an event has listeners\n    hasListeners(event) {\n        return (\n            (this._events.has(event) && this._events.get(event).size > 0) ||\n            (this._onceEvents.has(event) && this._onceEvents.get(event).size > 0)\n        );\n    }\n\n    // Get all registered events\n    getEvents() {\n        return Array.from(new Set([\n            ...this._events.keys(),\n            ...this._onceEvents.keys()\n        ]));\n    }\n\n    // Remove all listeners for an event\n    removeAllListeners(event) {\n        if (event) {\n            this._events.delete(event);\n            this._onceEvents.delete(event);\n        } else {\n            this._events.clear();\n            this._onceEvents.clear();\n        }\n    }\n\n    // Create a namespaced event name\n    static createEventName(...parts) {\n        return parts.join('.');\n    }\n}\n","export class BaseView {\n    constructor(container) {\n        if (!container) {\n            throw new Error('Container element is required');\n        }\n        this.container = container;\n        this._eventListeners = new Map();\n        this._intersectionObservers = new Set();\n        this._resizeObserver = null;\n        this._mutationObserver = null;\n        this._timeouts = new Set();\n        this._intervals = new Set();\n    }\n\n    setTitle(title) {\n        document.title = `${title} - Noelia Requena`;\n    }\n\n    // Add event listener with automatic cleanup\n    addEventListener(element, type, listener, options) {\n        element.addEventListener(type, listener, options);\n        \n        if (!this._eventListeners.has(element)) {\n            this._eventListeners.set(element, new Map());\n        }\n        \n        const elementListeners = this._eventListeners.get(element);\n        if (!elementListeners.has(type)) {\n            elementListeners.set(type, new Set());\n        }\n        \n        elementListeners.get(type).add({ listener, options });\n    }\n\n    // Create IntersectionObserver with automatic cleanup\n    createIntersectionObserver(callback, options) {\n        const observer = new IntersectionObserver(callback, options);\n        this._intersectionObservers.add(observer);\n        return observer;\n    }\n\n    // Create ResizeObserver with automatic cleanup\n    createResizeObserver(callback) {\n        if (this._resizeObserver) {\n            this._resizeObserver.disconnect();\n        }\n        this._resizeObserver = new ResizeObserver(callback);\n        return this._resizeObserver;\n    }\n\n    // Create MutationObserver with automatic cleanup\n    createMutationObserver(callback) {\n        if (this._mutationObserver) {\n            this._mutationObserver.disconnect();\n        }\n        this._mutationObserver = new MutationObserver(callback);\n        return this._mutationObserver;\n    }\n\n    // Set timeout with automatic cleanup\n    setTimeout(callback, delay) {\n        const timeoutId = setTimeout(callback, delay);\n        this._timeouts.add(timeoutId);\n        return timeoutId;\n    }\n\n    // Set interval with automatic cleanup\n    setInterval(callback, delay) {\n        const intervalId = setInterval(callback, delay);\n        this._intervals.add(intervalId);\n        return intervalId;\n    }\n\n    // Clear specific timeout\n    clearTimeout(timeoutId) {\n        clearTimeout(timeoutId);\n        this._timeouts.delete(timeoutId);\n    }\n\n    // Clear specific interval\n    clearInterval(intervalId) {\n        clearInterval(intervalId);\n        this._intervals.delete(intervalId);\n    }\n\n    // Initialize the view\n    async init() {\n        await this.render();\n        await this.afterRender();\n    }\n\n    // Render method to be overridden by child classes\n    render() {\n        return Promise.resolve();\n    }\n\n    // After render method to be overridden by child classes\n    afterRender() {\n        return Promise.resolve();\n    }\n\n    // Cleanup method\n    destroy() {\n        // Clean up event listeners\n        this._eventListeners.forEach((elementListeners, element) => {\n            elementListeners.forEach((listeners, type) => {\n                listeners.forEach(({ listener, options }) => {\n                    element.removeEventListener(type, listener, options);\n                });\n            });\n        });\n        this._eventListeners.clear();\n\n        // Clean up observers\n        this._intersectionObservers.forEach(observer => observer.disconnect());\n        this._intersectionObservers.clear();\n\n        if (this._resizeObserver) {\n            this._resizeObserver.disconnect();\n            this._resizeObserver = null;\n        }\n\n        if (this._mutationObserver) {\n            this._mutationObserver.disconnect();\n            this._mutationObserver = null;\n        }\n\n        // Clean up timeouts and intervals\n        this._timeouts.forEach(timeoutId => clearTimeout(timeoutId));\n        this._timeouts.clear();\n\n        this._intervals.forEach(intervalId => clearInterval(intervalId));\n        this._intervals.clear();\n\n        // Clear container\n        if (this.container) {\n            this.container.innerHTML = '';\n        }\n    }\n}\n","import { BaseView } from './BaseView.js';\nimport styles from '../css/modules/home.module.css';\nimport Animator from '../js/modules/Animator.js';\n\nexport class Home extends BaseView {\n    constructor(container) {\n        super(container);\n        this._cleanupFunctions = [];\n        this.currentSlide = 0;\n        this.slides = [\n            {\n                image: '/images/bg1.jpg',\n                text: 'Un anhelo cifrado, <br>un enigma de muchas dimensiones...'\n            },\n            {\n                image: '/images/bg2.jpg',\n                text: 'La existencia se desnuda, <br> una pregunta en el vacío...'\n            },\n            {\n                image: '/images/bg3.jpg',\n                text: 'El cuerpo como un temblor en el tiempo, <br>como un proceso de luz y sombra.'\n            },\n            {\n                image: '/images/bg4.jpg',\n                text: 'El cuerpo como un templo de tensiones, <br>como un templo hermético abierto <br>y cerrado al mismo tiempo...'\n            }\n        ];\n    }\n\n    async render() {\n        this.setTitle('Home');\n        this.container.innerHTML = `\n            <section class=\"${styles.hero}\">\n                <h1>Noelia Requena</h1>\n            </section>\n\n            <section class=\"${styles.intro}\">\n                <div class=\"container\">\n                    <div class=\"${styles.introContent}\">\n                        <div class=\"${styles.symbols}\">\n                            ☽ □ ♇\n                        </div>\n                        <p class=\"emphasis\">Busco expresar la complejidad de las emociones humanas a través\n                                de la pintura. Mi trabajo se centra en explorar la relación entre el cuerpo, la identidad y la\n                                experiencia vivida.</p>\n                    </div>\n                </div>\n            </section>\n\n            <div class=\"${styles.slideshow}\">\n                ${this.slides.map((slide, index) => `\n                    <section class=\"${styles.slide} ${index === 0 ? styles.active : ''}\" \n                             style=\"background-image: url('${slide.image}')\">\n                        <div class=\"${styles.slideContent}\">\n                            <div class=\"${styles.slideText}\">\n                                ${slide.text}\n                            </div>\n                        </div>\n                    </section>\n                `).join('')}\n                \n                <div class=\"${styles.slideNav}\">\n                    <button class=\"${styles.prevSlide}\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                            <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n                        </svg>\n                    </button>\n                    <button class=\"${styles.nextSlide}\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                            <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n        `;\n\n        this.initializeSlideshow();\n    }\n\n    initializeSlideshow() {\n        const slideshow = this.container.querySelector(`.${styles.slideshow}`);\n        const slides = this.container.querySelectorAll(`.${styles.slide}`);\n        const prevBtn = this.container.querySelector(`.${styles.prevSlide}`);\n        const nextBtn = this.container.querySelector(`.${styles.nextSlide}`);\n\n        const goToSlide = (index) => {\n            slides.forEach(slide => slide.classList.remove(styles.active));\n            this.currentSlide = (index + slides.length) % slides.length;\n            slides[this.currentSlide].classList.add(styles.active);\n        };\n\n        // Event listeners\n        prevBtn.addEventListener('click', () => goToSlide(this.currentSlide - 1));\n        nextBtn.addEventListener('click', () => goToSlide(this.currentSlide + 1));\n\n        // Auto advance\n        const autoAdvance = setInterval(() => {\n            goToSlide(this.currentSlide + 1);\n        }, 5000);\n\n        // Cleanup\n        this._cleanupFunctions.push(() => {\n            clearInterval(autoAdvance);\n            prevBtn.removeEventListener('click', () => {});\n            nextBtn.removeEventListener('click', () => {});\n        });\n    }\n\n    destroy() {\n        this._cleanupFunctions.forEach(cleanup => cleanup());\n        this._cleanupFunctions = [];\n        super.destroy();\n    }\n}\n","import { BaseView } from './BaseView.js';\nimport styles from '../css/modules/exposiciones.module.css';\n\nexport class Exposiciones extends BaseView {\n    constructor(container) {\n        super(container);\n        this.exposiciones = [\n            {\n                id: 1,\n                title: 'Can Puget',\n                date: 'Sala de exposiciones Manlleu, 2023',\n                thumbnail: '/images/expos/cartel_v1.jpeg',\n                subtitle: 'Ciertos procesos emocionales coagulan en forma de cuadros',\n                content: {\n                    description: [\n                        'Pinto desnudos como una forma de expresión posible que, lejos de alegorías y connotaciones reivindicativas, son en mí una tentativa de despojar de capas al cuerpo para acceder hacia mi verdad encarnada. Una desnudez que escoge la piel y la carne, que descarta arquetipos y capas teorizadas.',\n                        'Busco reconocerme, descubrirme en el anonimato de distintos cuerpos, siendo ése el lugar donde no hay ausencia y donde lamo mis propias heridas irracionales, donde despojo a mi realidad de sus vestiduras.',\n                        'Me apetece significar una piel cristalina, translúcida, frágil: como una vasija cubriendo la superficie del cuadro donde me puedo hacer invisible, y entrar o salir a voluntad.',\n                        'En los matices del proceso pictórico se van superponiendo las instantáneas de cómo me sentí en ahoras ya transitados.',\n                        'Me inundo en sensaciones mientras bajo a mi mundo emocional por medio de la materia, percepciones que una vez plasmadas parece que desaparecen o tal vez quedan escondidas como un misterio esperando a ser desvelado. Me dejo sorprender por mi propia necesidad irracional de fijar sombras sutiles, de remarcar cómo se proyecta la luz y se reafirman contornos; vinculándome a la sorpresa del propio descubrimiento.',\n                        'En ocasiones al aplicar una determinada vibración de color, conecto con una sensación de éxtasis, como una pulsión de fundirme en una vibración divina. La luz iluminando partes del cuerpo descubre con capas muy delgadas y traslúcidas el camino que siento hacia lo sublime. Las corrientes delicadas de las luces y sus tonos se imprimen, de algún modo, también en mi cuerpo y en mi mente.',\n                        'Los procesos pictóricos son un espejo, generando un espacio donde mis carencias y miedos se van viendo revelados tímidamente, donde danzan mis dualidades internas. Espacio donde es posible un encuentro conmigo misma, un encuentro en el que mi hacer caótico y desbordado busca contener(se) de todo lo que va quedando fijado.'\n                    ],\n                    media: [\n                        {\n                            type: 'video',\n                            poster: '/images/expos/video_expo_6_poster.jpg',\n                            sources: [\n                                { src: '/images/expos/video_expo_6.webm', type: 'video/webm' },\n                                { src: '/images/expos/video_expo_6.mp4', type: 'video/mp4' }\n                            ]\n                        },\n                        {\n                            type: 'video',\n                            poster: '/images/expos/video_expo_5_poster.jpg',\n                            sources: [\n                                { src: '/images/expos/video_expo_5.webm', type: 'video/webm' },\n                                { src: '/images/expos/video_expo_5.mp4', type: 'video/mp4' }\n                            ]\n                        }\n                    ]\n                }\n            },\n            {\n                id: 2,\n                title: 'Exposición colectiva',\n                date: 'Muestra de arte contemporáneo MGA, 2024',\n                thumbnail: '/images/expos/expo2_3.jpg',\n                subtitle: 'Autocensura',\n                content: {\n                    description: [\n                        'Oculto, reprimo, me callo.',\n                        'Experimentando un deterioro',\n                        'y una deformación.'\n                    ],\n                    details: 'Autocensura. Óleo sobre lienzo, 130x89cm, 2024',\n                    media: [\n                        {\n                            type: 'video',\n                            poster: '/images/expos/video_expo_7_poster.jpg',\n                            sources: [\n                                { src: '/images/expos/video_expo_7.webm', type: 'video/webm' },\n                                { src: '/images/expos/video_expo_7.mp4', type: 'video/mp4' }\n                            ]\n                        },\n                        {\n                            type: 'image',\n                            src: '/images/expos/expo2_1.jpg',\n                            alt: 'Exposición colectiva - Imagen 1'\n                        },\n                        {\n                            type: 'image',\n                            src: '/images/expos/expo2_2.jpg',\n                            alt: 'Exposición colectiva - Imagen 2'\n                        },\n                        {\n                            type: 'image',\n                            src: '/images/expos/expo2_3.jpg',\n                            alt: 'Exposición colectiva - Imagen 3'\n                        }\n                    ]\n                }\n            }\n        ];\n        \n        this.currentExpo = null;\n        this._cleanupFunctions = [];\n        this._isExpoClick = false;\n        this.resizeObserver = null;\n    }\n\n    async init() {\n        await super.init();\n        this.setTitle('Exposiciones');\n        \n        if (this.currentExpo) {\n            this.renderExpo(this.currentExpo);\n        } else {\n            this.renderGrid();\n        }\n        \n        this.setupEvents();\n        return this;\n    }\n\n    renderGrid() {\n        this.container.innerHTML = `\n            <section class=\"${styles.exposicionesGrid}\">\n                <div class=\"container\">\n                    <div class=\"${styles.grid}\">\n                        ${this.exposiciones.map(expo => `\n                            <article class=\"${styles.expoItem}\" data-expo-id=\"${expo.id}\" role=\"button\" tabindex=\"0\">\n                                <div class=\"${styles.thumbnail}\">\n                                    <img src=\"${expo.thumbnail}\" alt=\"${expo.title}\" loading=\"lazy\">\n                                </div>\n                                <div class=\"${styles.info}\">\n                                    <h3>${expo.title}</h3>\n                                    <p class=\"${styles.date}\">${expo.date}</p>\n                                </div>\n                            </article>\n                        `).join('')}\n                    </div>\n                </div>\n            </section>\n        `;\n    }\n\n    renderExpo(expo) {\n        this.container.innerHTML = `\n            <section class=\"${styles.exposicionDetalle}\">\n                <div class=\"container\">\n                    <div class=\"${styles.content}\">\n                        <h2>${expo.title}</h2>\n                        <h3>${expo.subtitle}</h3>\n                        <div class=\"${styles.text}\">\n                            ${expo.content.description.map(paragraph => `\n                                <p>${paragraph}</p>\n                            `).join('')}\n                        </div>\n                        <div class=\"${styles.mediaContainer}\">\n                            ${expo.content.media.map(media => `\n                                ${media.type === 'video' ? `\n                                    <video \n                                        class=\"${styles.video}\" \n                                        controls \n                                        preload=\"none\"\n                                        playsinline\n                                        poster=\"${media.poster}\"\n                                    >\n                                        ${media.sources.map(source => `\n                                            <source src=\"${source.src}\" type=\"${source.type}\">\n                                        `).join('')}\n                                        Tu navegador no soporta el elemento video.\n                                    </video>\n                                ` : `\n                                    <img \n                                        src=\"${media.src}\" \n                                        alt=\"${media.alt || ''}\" \n                                        class=\"${styles.image}\"\n                                        loading=\"lazy\"\n                                    />\n                                `}\n                            `).join('')}\n                        </div>\n                        ${expo.content.details ? `\n                            <div class=\"${styles.details}\">\n                                <p>${expo.content.details}</p>\n                            </div>\n                        ` : ''}\n                    </div>\n                </div>\n            </section>\n        `;\n\n        // Configurar el ResizeObserver para los elementos multimedia\n        this.setupResizeObserver();\n    }\n\n    setupResizeObserver() {\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n\n        this.resizeObserver = new ResizeObserver(entries => {\n            entries.forEach(entry => {\n                this.resizeGridItem(entry.target);\n            });\n        });\n\n        const mediaItems = this.container.querySelectorAll(`.${styles.image}, .${styles.video}`);\n        mediaItems.forEach(item => {\n            this.resizeObserver.observe(item);\n        });\n    }\n\n    resizeGridItem(item) {\n        if (!item || !this.container) return;\n\n        const container = item.closest(`.${styles.mediaContainer}`);\n        if (!container) return;\n\n        const rowHeight = 1;\n        const rowGap = parseInt(window.getComputedStyle(container).rowGap) || 10;\n        \n        const contentHeight = item.getBoundingClientRect().height;\n        const rowSpan = Math.ceil((contentHeight + rowGap) / (rowHeight + rowGap));\n        \n        item.style.setProperty('--span', rowSpan);\n    }\n\n    setupEvents() {\n        // Limpiar eventos anteriores\n        this._cleanupFunctions.forEach(cleanup => cleanup());\n        this._cleanupFunctions = [];\n\n        // Eventos para el grid\n        const items = this.container.querySelectorAll(`.${styles.expoItem}`);\n        \n        items.forEach(item => {\n            const handler = (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                const id = parseInt(item.dataset.expoId);\n                this.currentExpo = this.exposiciones.find(expo => expo.id === id);\n                this._isExpoClick = true;\n                this.init();\n            };\n\n            item.style.cursor = 'pointer';\n            item.addEventListener('click', handler, true);\n            this._cleanupFunctions.push(() => item.removeEventListener('click', handler, true));\n        });\n\n        // Manejar el botón de exposiciones del menú\n        const expoHandler = (e) => {\n            const link = e.target.closest('a[href=\"/exposiciones\"]');\n            if (link) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.currentExpo = null;\n                this.init();\n            }\n        };\n\n        document.addEventListener('click', expoHandler, true);\n        this._cleanupFunctions.push(() => document.removeEventListener('click', expoHandler, true));\n    }\n\n    getPrevExpo(currentId) {\n        const currentIndex = this.exposiciones.findIndex(expo => expo.id === currentId);\n        return this.exposiciones[currentIndex - 1];\n    }\n\n    getNextExpo(currentId) {\n        const currentIndex = this.exposiciones.findIndex(expo => expo.id === currentId);\n        return this.exposiciones[currentIndex + 1];\n    }\n\n    destroy() {\n        this._cleanupFunctions.forEach(cleanup => cleanup());\n        this._cleanupFunctions = [];\n        super.destroy();\n    }\n}","import { Store } from '../modules/Store.js';\n\n// Action Types\nexport const SET_IMAGES = 'gallery/setImages';\nexport const SET_CURRENT_IMAGE = 'gallery/setCurrentImage';\nexport const SET_FILTER = 'gallery/setFilter';\nexport const TOGGLE_LIGHTBOX = 'gallery/toggleLightbox';\n\n// Action Creators\nexport const setImages = Store.createAction(SET_IMAGES);\nexport const setCurrentImage = Store.createAction(SET_CURRENT_IMAGE);\nexport const setFilter = Store.createAction(SET_FILTER);\nexport const toggleLightbox = Store.createAction(TOGGLE_LIGHTBOX);\n\n// Async Actions\nexport const loadImages = Store.createAsyncAction(\n    'gallery/loadImages',\n    async () => {\n        // Simulated API call\n        return [\n            {\n                id: 1,\n                src: '../images/obras/artwork1.jpg',\n                title: 'Artwork 1',\n                alt: 'Óleo sobre lienzo de una figura femenina sentada, con un dramático juego de luces y sombras estilo claroscuro.',\n                category: 'painting',\n                width: 1200,\n                height: 800\n            },\n            {\n                id: 2,\n                src: '../images/obras/artwork2.jpg',\n                title: 'Artwork 2',\n                alt: 'Escultura de un torso femenino reclinado, capturando la tensión y la calma del cuerpo.',\n                category: 'sculpture',\n                width: 800,\n                height: 1200\n            },\n            {\n                id: 3,\n                src: '../images/obras/artwork3.jpg',\n                title: 'Artwork 3',\n                alt: 'Pintura al óleo de un cuerpo de mujer tumbado, donde la luz resalta la textura de la piel sobre un fondo oscuro.',\n                category: 'painting',\n                width: 1200,\n                height: 800\n            },\n            {\n                id: 4,\n                src: '../images/obras/artwork4.jpg',\n                title: 'Artwork 4',\n                alt: 'Técnica mixta que representa una silueta femenina en reposo, con un fuerte contraste de claroscuro que define las formas.',\n                category: 'mixed',\n                width: 800,\n                height: 1200\n            }\n        ];\n    }\n);\n\n// Initial State\nconst initialState = {\n    images: [],\n    currentImage: null,\n    filter: 'all',\n    lightboxOpen: false,\n    loading: false,\n    error: null\n};\n\n// Reducer\nexport const galleryReducer = Store.createReducer(initialState, {\n    [SET_IMAGES]: (state, action) => ({\n        ...state,\n        images: action.payload\n    }),\n    [SET_CURRENT_IMAGE]: (state, action) => ({\n        ...state,\n        currentImage: action.payload\n    }),\n    [SET_FILTER]: (state, action) => ({\n        ...state,\n        filter: action.payload\n    }),\n    [TOGGLE_LIGHTBOX]: (state) => ({\n        ...state,\n        lightboxOpen: !state.lightboxOpen\n    }),\n    [loadImages.request]: (state) => ({\n        ...state,\n        loading: true,\n        error: null\n    }),\n    [loadImages.success]: (state, action) => ({\n        ...state,\n        loading: false,\n        images: action.payload\n    }),\n    [loadImages.failure]: (state, action) => ({\n        ...state,\n        loading: false,\n        error: action.payload\n    })\n});\n\n// Selectors\nexport const selectImages = state => state.gallery.images;\nexport const selectCurrentImage = state => state.gallery.currentImage;\nexport const selectFilter = state => state.gallery.filter;\nexport const selectLightboxOpen = state => state.gallery.lightboxOpen;\nexport const selectLoading = state => state.gallery.loading;\nexport const selectError = state => state.gallery.error;\n\n// Complex selectors\nexport const selectFilteredImages = Store.createSelector(\n    selectImages,\n    selectFilter,\n    (images, filter) => filter === 'all' ? \n        images : \n        images.filter(img => img.category === filter)\n);\n\nexport class GalleryStore {\n    static instance = null;\n\n    constructor() {\n        if (GalleryStore.instance) {\n            return GalleryStore.instance;\n        }\n        GalleryStore.instance = this;\n        \n        this.currentIndex = 0;\n        this.isOpen = false;\n        this.items = [];\n        this.onChangeCallbacks = [];\n        this.touchStartX = 0;\n        this.touchStartY = 0;\n        this.touchEndX = 0;\n        this.touchEndY = 0;\n    }\n\n    static getInstance() {\n        if (!GalleryStore.instance) {\n            GalleryStore.instance = new GalleryStore();\n        }\n        return GalleryStore.instance;\n    }\n\n    setItems(items) {\n        this.items = items.map((item, index) => ({\n            id: index + 1,\n            src: item.src,\n            title: item.title || `Obra ${index + 1}`,\n            description: item.description || 'Descripción de la obra.',\n            width: item.width || 800,\n            height: item.height || 600\n        }));\n        this.notifyChange();\n    }\n\n    handleTouchStart = (e) => {\n        this.touchStartX = e.touches[0].clientX;\n        this.touchStartY = e.touches[0].clientY;\n    }\n\n    handleTouchMove = (e) => {\n        e.preventDefault(); // Prevenir scroll mientras se desliza\n    }\n\n    handleTouchEnd = (e) => {\n        this.touchEndX = e.changedTouches[0].clientX;\n        this.touchEndY = e.changedTouches[0].clientY;\n\n        const deltaX = this.touchEndX - this.touchStartX;\n        const deltaY = this.touchEndY - this.touchStartY;\n\n        // Solo procesar si el deslizamiento es más horizontal que vertical\n        if (Math.abs(deltaX) > Math.abs(deltaY)) {\n            const minSwipeDistance = 50; // Distancia mínima para considerar un swipe\n\n            if (Math.abs(deltaX) > minSwipeDistance) {\n                if (deltaX > 0) {\n                    this.previous(); // Deslizar a la derecha -> imagen anterior\n                } else {\n                    this.next(); // Deslizar a la izquierda -> imagen siguiente\n                }\n            }\n        }\n    }\n\n    open(index = 0) {\n        this.isOpen = true;\n        this.currentIndex = index;\n        this.notifyChange();\n        this.renderLightbox();\n    }\n\n    close() {\n        this.isOpen = false;\n        this.notifyChange();\n        this.removeLightbox();\n        \n        // Asegurar que la página de artworks es visible\n        document.body.style.overflow = '';\n        document.body.style.position = '';\n        document.body.style.width = '';\n        document.body.style.height = '';\n        document.documentElement.style.overflow = '';\n        document.documentElement.style.position = '';\n        document.documentElement.style.width = '';\n        document.documentElement.style.height = '';\n\n        // Forzar un reflow para asegurar que todo se renderiza correctamente\n        window.scrollTo(0, window.scrollY);\n    }\n\n    next() {\n        if (this.currentIndex < this.items.length - 1) {\n            this.currentIndex++;\n            this.updateLightboxContent();\n            this.notifyChange();\n        }\n    }\n\n    previous() {\n        if (this.currentIndex > 0) {\n            this.currentIndex--;\n            this.updateLightboxContent();\n            this.notifyChange();\n        }\n    }\n\n    getCurrentItem() {\n        return this.items[this.currentIndex];\n    }\n\n    renderLightbox() {\n        const currentItem = this.getCurrentItem();\n        const isLastItem = this.currentIndex === this.items.length - 1;\n        const lightbox = document.createElement('div');\n        lightbox.id = 'gallery-lightbox';\n        lightbox.className = 'gallery-lightbox active';\n        \n        lightbox.innerHTML = `\n            <div class=\"gallery-lightbox-content\">\n                <img src=\"${currentItem.src}\" alt=\"${currentItem.alt}\" />\n                <div class=\"gallery-lightbox-info\">\n                    <h2>${currentItem.title}</h2>\n                    <p>${currentItem.description}</p>\n                </div>\n                <button class=\"gallery-lightbox-close\" aria-label=\"Cerrar galería\">&times;</button>\n                <button class=\"gallery-lightbox-prev ${this.currentIndex === 0 ? 'hidden' : ''}\" \n                        aria-label=\"Imagen anterior\">&lt;</button>\n                <button class=\"gallery-lightbox-next ${isLastItem ? 'hidden' : ''}\" \n                        aria-label=\"Imagen siguiente\">&gt;</button>\n            </div>\n        `;\n\n        document.body.appendChild(lightbox);\n        document.body.style.overflow = 'hidden';\n\n        // Add event listeners\n        lightbox.querySelector('.gallery-lightbox-close').addEventListener('click', () => this.close());\n        \n        const prevButton = lightbox.querySelector('.gallery-lightbox-prev');\n        const nextButton = lightbox.querySelector('.gallery-lightbox-next');\n        \n        if (!prevButton.classList.contains('hidden')) {\n            prevButton.addEventListener('click', () => this.previous());\n        }\n        \n        if (!nextButton.classList.contains('hidden')) {\n            nextButton.addEventListener('click', () => this.next());\n        }\n        \n        // Close on background click\n        lightbox.addEventListener('click', (e) => {\n            if (e.target === lightbox) {\n                this.close();\n            }\n        });\n\n        // Add keyboard navigation\n        document.addEventListener('keydown', this.handleKeyPress);\n\n        // Add touch navigation\n        const content = lightbox.querySelector('.gallery-lightbox-content');\n        content.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        content.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n        content.addEventListener('touchend', this.handleTouchEnd, { passive: true });\n\n        // Force reflow to trigger animation\n        setTimeout(() => lightbox.classList.add('active'), 0);\n    }\n\n    updateLightboxContent() {\n        const lightbox = document.getElementById('gallery-lightbox');\n        if (!lightbox) return;\n\n        const currentItem = this.getCurrentItem();\n        const isLastItem = this.currentIndex === this.items.length - 1;\n        const content = lightbox.querySelector('.gallery-lightbox-content');\n        \n        content.querySelector('img').src = currentItem.src;\n        content.querySelector('img').alt = currentItem.alt;\n        content.querySelector('h2').textContent = currentItem.title;\n        content.querySelector('p').textContent = currentItem.description;\n\n        // Actualizar estado de los botones\n        const prevButton = content.querySelector('.gallery-lightbox-prev');\n        const nextButton = content.querySelector('.gallery-lightbox-next');\n        \n        if (prevButton) {\n            prevButton.classList.toggle('hidden', this.currentIndex === 0);\n        }\n        \n        if (nextButton) {\n            nextButton.classList.toggle('hidden', isLastItem);\n        }\n    }\n\n    handleKeyPress = (e) => {\n        switch(e.key) {\n            case 'Escape':\n                this.close();\n                break;\n            case 'ArrowLeft':\n                this.previous();\n                break;\n            case 'ArrowRight':\n                this.next();\n                break;\n        }\n    }\n\n    removeLightbox() {\n        const lightbox = document.getElementById('gallery-lightbox');\n        if (lightbox) {\n            const content = lightbox.querySelector('.gallery-lightbox-content');\n            content.removeEventListener('touchstart', this.handleTouchStart);\n            content.removeEventListener('touchmove', this.handleTouchMove);\n            content.removeEventListener('touchend', this.handleTouchEnd);\n            document.body.removeChild(lightbox);\n            document.body.style.overflow = '';\n        }\n        document.removeEventListener('keydown', this.handleKeyPress);\n    }\n\n    subscribe(callback) {\n        this.onChangeCallbacks.push(callback);\n        return () => {\n            this.onChangeCallbacks = this.onChangeCallbacks.filter(cb => cb !== callback);\n        };\n    }\n\n    notifyChange() {\n        this.onChangeCallbacks.forEach(callback => callback());\n    }\n}\n","import { BaseView } from './BaseView.js';\nimport styles from '../css/modules/artworks.module.css';\nimport { ImageLoader } from '../js/modules/ImageLoader.js';\nimport { GalleryStore } from '../js/store/gallery.js';\n\nexport class Artworks extends BaseView {\n    constructor(container) {\n        super(container);\n        this.artworks = [\n            {\n                src: '/images/obras/img1.jpg',\n                title: 'Obra 1',\n                description: 'Óleo sobre madera. 58x44cm, 2022',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img2.jpg',\n                title: 'Obra 2',\n                description: 'Óleo sobre lienzo. 31x23cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img3.jpg',\n                title: 'Obra 3',\n                description: 'Óleo sobre lienzo. 31x23cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img4.jpg',\n                title: 'Obra 4',\n                description: 'Óleo sobre papel. 31x21cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img5.jpg',\n                title: 'Obra 5',\n                description: 'Óleo sobre madera. 61x50cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img6.jpg',\n                title: 'Obra 6',\n                description: 'Óleo sobre madera. 41x33cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img7.jpg',\n                title: 'Obra 7',\n                description: 'Óleo sobre madera. 50x50cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img8.jpg',\n                title: 'Obra 8',\n                description: 'Óleo sobre madera. 100x100cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img9.jpg',\n                title: 'Obra 9',\n                description: 'Óleo sobre madera. 122x60.5cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img10.jpg',\n                title: 'Obra 10',\n                description: 'Óleo sobre lienzo. 116x81cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img11.jpg',\n                title: 'Obra 11',\n                description: 'Óleo sobre lienzo. 116x81cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img12.jpg',\n                title: 'Obra 12',\n                description: 'Óleo sobre madera. 73x55cm, 2019',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img13.jpg',\n                title: 'Obra 13',\n                description: 'Óleo sobre madera. 73x55cm, 2019',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img14.jpg',\n                title: 'Obra 14',\n                description: 'Óleo sobre madera. 80x65cm, 2020',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img15.jpg',\n                title: 'Obra 15',\n                description: 'Óleo sobre madera. 92x73cm, 2020',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img19.jpg',\n                title: 'Obra 19',\n                description: 'Óleo sobre madera. 100x40cm, 2020',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img20.jpg',\n                title: 'Obra 20',\n                description: 'Óleo sobre madera. 122x60.5cm, 2020',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img21.jpg',\n                title: 'Obra 21',\n                description: 'Óleo sobre madera. 92x73cm, 2020',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img22.jpg',\n                title: 'Obra 22',\n                description: 'Óleo sobre madera. 58x44cm, 2021',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img23.jpg',\n                title: 'Obra 23',\n                description: 'Óleo sobre lienzo. 90x73cm, 2021',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img24.jpg',\n                title: 'Obra 24',\n                description: 'Óleo sobre lienzo. 92x73cm, 2021',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img25.jpg',\n                title: 'Obra 25',\n                description: 'Óleo sobre lienzo. 100x100cm, 2021',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img26.jpg',\n                title: 'Obra 26',\n                description: 'Óleo sobre madera. 100x100cm, 2021',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img27.jpg',\n                title: 'Obra 27',\n                description: 'Óleo sobre lienzo. 140x81cm, 2021',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img28.jpg',\n                title: 'Obra 28',\n                description: 'Óleo sobre lienzo, 120x100cm, 2021',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img29.jpg',\n                title: 'Obra 29',\n                description: 'Óleo sobre lienzo, 146x97cm, 2023',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img30.jpg',\n                title: 'Obra 30',\n                description: 'Óleo sobre lienzo, 146x89cm, 2023',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img31.jpg',\n                title: 'Obra 31',\n                description: 'Óleo sobre lienzo, 146x89cm, 2023',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img32.jpg',\n                title: 'Obra 32',\n                description: 'Óleo sobre lienzo, 130x89cm, 2022',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img33.jpg',\n                title: 'Obra 33',\n                description: 'Óleo sobre lienzo, 146x97cm, 2023',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img34.jpg',\n                title: 'Obra 34',\n                description: 'Óleo sobre lienzo, 130x89cm, 2022',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img35.jpg',\n                title: 'Obra 35',\n                description: 'Óleo sobre lienzo,100x100cm, 2021',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img36.jpg',\n                title: 'Obra 36',\n                description: 'Óleo sobre lienzo,130x89cm, 2023',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img37.jpg',\n                title: 'Obra 37',\n                description: 'Óleo sobre lienzo, 146x114cm, 2024',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img38.jpg',\n                title: 'Obra 38',\n                description: 'Óleo sobre lienzo, 146x114cm, 2024',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img39.jpg',\n                title: 'Obra 39',\n                description: 'Óleo sobre lienzo, 130x89cm, 2023',\n                width: 1200,\n                height: 800\n            },\n            {\n                src: '/images/obras/img40.jpg',\n                title: 'Obra 40',\n                description: 'Óleo sobre lienzo, 150x90cm, 2023',\n                width: 800,\n                height: 1200\n            },\n            {\n                src: '/images/obras/img41.jpg',\n                title: 'Obra 41',\n                description: 'Óleo sobre lienzo, 130x80cm, 2023',\n                width: 1200,\n                height: 800\n            }\n        ].map((artwork, index) => ({\n            ...artwork,\n            width: (index % 2 === 0) ? 800 : 1200,\n            height: (index % 2 === 0) ? 1200 : 800\n        }));\n        this.galleryStore = new GalleryStore();\n        this.resizeObserver = null;\n        this._boundResizeHandler = this.handleResize.bind(this);\n    }\n\n    async init() {\n        await super.init();\n        this.setTitle('Artworks');\n        \n        this.container.innerHTML = `\n            <section class=\"${styles.artworks}\">\n                <div class=\"container\">\n                    <div class=\"grid gap-4\">\n                    </div>\n                </div>\n                <div class=\"${styles.masonryGrid}\">\n                    ${this.generateArtworksHTML()}\n                </div>\n                <div class=\"${styles.review} container\">\n                    <div class=\"${styles.tabs}\">\n                        <button class=\"${styles.tablink} ${styles.active}\" data-lang=\"en\">EN</button>\n                        <button class=\"${styles.tablink}\" data-lang=\"es\">ES</button>\n                    </div>\n                    \n                    <div id=\"en\" class=\"${styles.tabcontent} ${styles.active}\">\n                        <h3>Review</h3>\n                        <p>\"A body in space. A tremor in time. A process of light and shade. Once revealed, the body disintegrates and is deconstructed. A spontaneous crystallisation of dynamic contrasts. A chiaroscuro of fragility and power, cold and heat. The body is a temple of tensions; hermetic, open and shut at the same time, existing only in the logic of membranes. Light that passes through, reflected like the nervous shade of something more. The ornament of the oils captures it like an insect in amber. Frozen but at the same time fluttering. An encrypted longing, like a puzzle in multiple dimensions. The precise and graceful line (a calligraphy of mysteries), unravelling the inexhaustible mystery of beauty. Ariadne's thread entangling. A dark profession. The beauty of horror and the horror of beauty. We need the contrast. The balance in the contradiction. Always the light and the shade, the chiaroscuro...</p>\n\n                        <p>As in the Japanese technique, kintsugi, the lacquer repairs the cracks in the broken ceramic, which is the body. There is a beauty in the crack, like a latent sign of its interior life: vortex of a wound made manifest on the outside. Cloth covers the shape like a gauze a mould. Skin as impasto. Life as a continuous moment of uncertainty. Are we free or are we confined within the coordinates of chance? This is the mystery of a body in a room, a body inhabiting a space, of a body being space. Existence is naked like a question in the void, spilling over the morning air, reflected in the light coming through the window. In this frame, in this space we celebrate the mystery of life.\"</p>\n                        <p class=\"${styles.author}\">— Román Bayarri</p>\n                    </div>\n                    \n                    <div id=\"es\" class=\"${styles.tabcontent}\">\n                        <h3>Reseña</h3>\n                        <p>\"Un cuerpo en el espacio. Un temblor en el tiempo. Un proceso de luz y sombra. Una vez revelado, el cuerpo se desintegra y se deconstruye. Una cristalización espontánea de contrastes dinámicos. Un claroscuro de fragilidad y poder, frío y calor. El cuerpo es un templo de tensiones; hermético, abierto y cerrado al mismo tiempo, existiendo solo en la lógica de las membranas. Luz que atraviesa, reflejada como la sombra nerviosa de algo más. El ornamento de los óleos lo captura como un insecto en ámbar. Congelado pero al mismo tiempo revoloteando. Un anhelo encriptado, como un rompecabezas en múltiples dimensiones. La línea precisa y grácil (una caligrafía de misterios), desentrañando el misterio inagotable de la belleza. El hilo de Ariadna enredándose. Una profesión oscura. La belleza del horror y el horror de la belleza. Necesitamos el contraste. El equilibrio en la contradicción. Siempre la luz y la sombra, el claroscuro...</p>\n                        <p>Como en la técnica japonesa, kintsugi, la laca repara las grietas en la cerámica rota, que es el cuerpo. Hay una belleza en la grieta, como un signo latente de su vida interior: vórtice de una herida que se manifiesta en el exterior. La tela cubre la forma como una gasa un molde. La piel como empaste. La vida como un momento continuo de incertidumbre. ¿Somos libres o estamos confinados dentro de las coordenadas del azar? Este es el misterio de un cuerpo en una habitación, un cuerpo habitando un espacio, de un cuerpo siendo espacio. La existencia está desnuda como una pregunta en el vacío, derramándose sobre el aire de la mañana, reflejada en la luz que entra por la ventana. En este marco, en este espacio celebramos el misterio de la vida.\"</p>\n                        <p class=\"${styles.author}\">— Román Bayarri</p>\n                    </div>\n                </div>\n            </section>\n        `;\n\n        // Inicializar el store de la galería\n        this.galleryStore.setItems(this.artworks);\n\n        // Configurar eventos\n        this.setupGalleryEvents();\n        window.addEventListener('resize', this._boundResizeHandler);\n\n        // Asegurarnos de que las imágenes se cargan y el masonry se inicializa\n        requestAnimationFrame(async () => {\n            try {\n                await this.loadAndResizeImages();\n            } catch (error) {\n            }\n        });\n\n        return this;\n    }\n\n    resizeGridItem(item) {\n        if (!item || !this.container) return;\n\n        const grid = this.container.querySelector(`.${styles.masonryGrid}`);\n        if (!grid) return;\n\n        const rowHeight = parseInt(window.getComputedStyle(grid).gridAutoRows) || 1;\n        const rowGap = parseInt(window.getComputedStyle(grid).rowGap) || 10;\n        \n        const contentHeight = item.getBoundingClientRect().height;\n        const rowSpan = Math.ceil((contentHeight + rowGap) / (rowHeight + rowGap));\n        \n        item.style.setProperty('--span', rowSpan);\n    }\n\n    handleResize() {\n        const images = this.container.querySelectorAll(`.${styles.artworkImage}`);\n        images.forEach(image => this.resizeGridItem(image));\n    }\n\n    setupResizeObserver() {\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n        }\n\n        this.resizeObserver = new ResizeObserver(entries => {\n            entries.forEach(entry => {\n                this.resizeGridItem(entry.target);\n            });\n        });\n\n        const images = this.container.querySelectorAll(`.${styles.artworkImage}`);\n        images.forEach(image => {\n            this.resizeObserver.observe(image);\n        });\n    }\n\n    async loadAndResizeImages() {\n        const imageLoadPromises = [];\n        const images = this.container.querySelectorAll(`.${styles.artworkImage}`);\n        \n        images.forEach(img => {\n            imageLoadPromises.push(new Promise(resolve => {\n                if (img.complete) {\n                    this.resizeGridItem(img);\n                    resolve();\n                } else {\n                    img.onload = () => {\n                        this.resizeGridItem(img);\n                        resolve();\n                    };\n                    img.onerror = () => {\n                        resolve();\n                    };\n                }\n            }));\n        });\n\n        await Promise.all(imageLoadPromises);\n    }\n\n    generateArtworksHTML() {\n        return this.artworks.map((artwork, index) => {\n            return `\n                <img \n                    class=\"${styles.artworkImage}\"\n                    src=\"${artwork.src}\"\n                    alt=\"${artwork.title}\"\n                    loading=\"lazy\"\n                    width=\"${artwork.width}\"\n                    height=\"${artwork.height}\"\n                    data-index=\"${index}\"\n                />\n            `;\n        }).join('');\n    }\n\n    setupGalleryEvents() {\n        const images = this.container.querySelectorAll(`.${styles.artworkImage}`);\n        images.forEach(image => {\n            image.addEventListener('click', (e) => {\n                e.preventDefault();\n                const index = parseInt(image.dataset.index);\n                if (!isNaN(index)) {\n                    this.galleryStore.open(index);\n                }\n            });\n        });\n\n        // Setup language tabs\n        const tabs = this.container.querySelectorAll(`.${styles.tablink}`);\n        tabs.forEach(tab => {\n            tab.addEventListener('click', () => {\n                const lang = tab.dataset.lang;\n                \n                // Update active tab\n                tabs.forEach(t => t.classList.remove(styles.active));\n                tab.classList.add(styles.active);\n                \n                // Update active content\n                const contents = this.container.querySelectorAll(`.${styles.tabcontent}`);\n                contents.forEach(content => {\n                    if (content.id === lang) {\n                        content.classList.add(styles.active);\n                    } else {\n                        content.classList.remove(styles.active);\n                    }\n                });\n            });\n        });\n    }\n\n    destroy() {\n        if (this.resizeObserver) {\n            this.resizeObserver.disconnect();\n            this.resizeObserver = null;\n        }\n\n        window.removeEventListener('resize', this._boundResizeHandler);\n\n        const images = this.container.querySelectorAll(`.${styles.artworkImage}`);\n        images.forEach(image => {\n            image.removeEventListener('click', () => {});\n        });\n        \n        super.destroy();\n    }\n}\n","export class TabLink {\n    constructor(container, tabs) {\n        this.container = container;\n        this.tabs = tabs;\n        this.activeTab = 0;\n        this.buttons = [];\n        this.contentContainer = null;\n        this.render();\n        this.addEventListeners();\n    }\n\n    render() {\n        // Create tab buttons container\n        const tabButtons = document.createElement('div');\n        tabButtons.className = 'tab-buttons';\n\n        this.tabs.forEach((tab, index) => {\n            const button = document.createElement('button');\n            button.textContent = tab.label;\n            button.className = index === this.activeTab ? 'active' : '';\n            this.buttons.push(button);\n            tabButtons.appendChild(button);\n        });\n\n        // Create content container if it doesn't exist\n        if (!this.contentContainer) {\n            this.contentContainer = document.createElement('div');\n            this.contentContainer.className = 'tab-content';\n        }\n        \n        // Update content\n        this.contentContainer.innerHTML = this.tabs[this.activeTab].content;\n\n        // Clear and append new content only if necessary\n        if (!this.container.contains(tabButtons)) {\n            this.container.innerHTML = '';\n            this.container.appendChild(tabButtons);\n            this.container.appendChild(this.contentContainer);\n        }\n    }\n\n    addEventListeners() {\n        this.buttons.forEach((button, index) => {\n            button.addEventListener('click', () => {\n                if (index !== this.activeTab) {\n                    this.setActiveTab(index);\n                }\n            });\n        });\n    }\n\n    setActiveTab(index) {\n        // Update buttons styles\n        this.buttons.forEach((button, i) => {\n            button.className = i === index ? 'active' : '';\n        });\n\n        // Update content\n        this.activeTab = index;\n        this.contentContainer.innerHTML = this.tabs[this.activeTab].content;\n    }\n}\n","import { BaseView } from './BaseView.js';\nimport styles from '../css/modules/bio.module.css';\nimport { TabLink } from '../js/components/TabLink.js';\n\nexport class Bio extends BaseView {\n    constructor(container) {\n        super(container);\n        this.tabLink = null;\n    }\n\n    async init() {\n        await super.init();\n        this.setTitle('Bio');\n        \n        this.container.innerHTML = `\n            <section class=\"${styles.bio} container\">\n                <div class=\"grid gap-8\">\n                    <div class=\"col-span-12 md:col-span-6\">\n                        <div class=\"${styles.avatarContainer}\">\n                            <img \n                                src=\"/images/avatar.jpg\" \n                                alt=\"Noelia Requena\" \n                                class=\"${styles.avatar}\"\n                                loading=\"lazy\"\n                                onload=\"this.classList.add('${styles.loaded}')\"\n                            />\n                        </div>\n                    </div>\n                    \n                    <div class=\"col-span-12 md:col-span-6\">\n                        <div class=\"${styles.bioContent}\">\n                            <div id=\"bio-tabs\" class=\"${styles.bioTabs}\"></div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        `;\n\n        // Initialize tabs\n        const tabsContainer = this.container.querySelector('#bio-tabs');\n        if (!tabsContainer) {\n            console.error('Bio tabs container not found');\n            return this;\n        }\n\n        const tabs = [\n            {\n                label: 'EN',\n                content: `\n                    <blockquote class=\"emphasis\">\n                        \"When one becomes aware of the mystery of existence and does not understand it, but out of sheer sincerity and inner coherence, she needs answers even to the pain, then one finds her golden and wonderful Ariadna's thread\"\n                    </blockquote>\n                    <p class=\"${styles.quoteAuthor}\">\n                        — Blas Cubells\n                    </p>\n                    \n                    <dl>\n                        <dt>Born in Vic (Barcelona) in 1976.</dt>\n                        <dt>1985-1991</dt>\n                        <dd>\n                            During my childhood I trained at the\n                            <i>Escola de dibuix i art Masferrer</i> in Vic with the teachers\n                            Pere Isern Puntí, Eduard Xandri Calvet, Lluís Bres Oliva, Lluís Gros\n                            Pujol...\n                        </dd>\n            \n                        <dt>1994-1995</dt>\n                        <dd>\n                            Studied at the\n                            <i>Escola d'arts aplicades i oficis artístics</i> (School of Applied\n                            Arts and Crafts) in Vic.\n                        </dd>\n                        <dt>1997-2001</dt>\n                        <dd>\n                            Degree in Fashion Design from the\n                            <i>Escola Superior de Disseny Bau</i> in Barcelona.\n                        </dd>\n                        <dt>2000-2001</dt>\n                            <dd>Millinery workshop in Barcelona with <i>Nina Pawloswsky</i>.</dd>\n                        <dt>1999-2004</dt>\n                        <dd>\n                        Began working with the women's fashion brand\n                        <i>Giménez&amp;Zuazo</i> and its other brand <i>Boba by G&amp;Z</i>,\n                        with distribution nationally and internationally through 250\n                        multi-brands channels in Spain, France, Italy, Japan and others.\n                        </dd>\n            \n                        <dd>\n                            Under the leadership of the partners, co-managed the design\n                            department. I was responsible for the entire design process and the\n                            illustrations, developing the collections, researching the latest\n                            looks and trends, design, drafting and supervising the technical\n                            specifications, coordination with the patterns team, managing\n                            accessories and materials, coordination with fabric printing and production companies.\n                        </dd>\n                        <dt>2004-2010</dt>\n                        <dd>\n                            Creative director and founding partner of the women's fashion brand\n                            Obvia. Development of the business idea, part of the management\n                            team, co-director of the design department, director of production,\n                            director of sales. National distribution to multi-brand points of\n                            sale in Spain. Local production.\n                        </dd>\n                        <dt>2010-2018</dt>\n                        <dd>\n                            Freelance Textile Graphic Designer. Designer of prints for women, men and children's clothing&nbsp;for\n                            <i>Padma Diseño S.L., Zara, Pull&amp;Bear, Bershka, Mango, Replay, Springfield, Blue Inc., Studio F Women / STF Group Colombia</i>...\n                        </dd>\n            \n                        <dt>2019</dt>\n                        <dd>\n                        Left the world of fashion and illustration to begin looking for a\n                        more intimate mode of expression.\n                        </dd>\n                        <dd>\n                        In parallel with my professional career, I maintained a constant\n                        level of training in the art world, with incursions into a variety\n                        of techniques such as lacquer, ceramics, sculpture, oils, art for\n                        children, artist books, as well as astrology and active learning.\n                        </dd>\n                        <dd>\n                        Currently, I live with my partner, the multidisciplinary artist\n                        Sergio Forés. Mother to two children and searching for alternative\n                        ways of life and education. In 2014 I moved to a small village in\n                        Alt Penedès surrounded by vineyards and nature.\n                        </dd>\n                    </dl>\n                `\n            },\n            {\n                label: 'ES',\n                content: `\n                    <blockquote class=\"emphasis\">\n                        \"Cuando uno toma conciencia del misterio de la existencia y no lo entiende, pero por pura sinceridad y coherencia interior, necesita respuestas hasta el dolor, entonces encuentra su dorado y maravilloso hilo de Ariadna\"\n                    </blockquote>\n                    <p class=\"${styles.quoteAuthor}\">\n                        — Blas Cubells\n                    </p>\n                    \n                    <dl>\n                        <dt>Nacida en Vic (Barcelona) en 1976.</dt>\n                        <dt>1985-1991</dt>\n                        <dd>\n                            Durante mi infancia me formé en la\n                            <i>Escola de dibuix i art Masferrer</i> de Vic con los profesores\n                            Pere Isern Puntí, Eduard Xandri Calvet, Lluís Bres Oliva, Lluís Gros\n                            Pujol...\n                        </dd>\n            \n                        <dt>1994-1995</dt>\n                        <dd>\n                            Estudié en la\n                            <i>Escola d'arts aplicades i oficis artístics</i> de Vic.\n                        </dd>\n                        <dt>1997-2001</dt>\n                        <dd>\n                            Graduada en Diseño de Moda por la\n                            <i>Escola Superior de Disseny Bau</i> de Barcelona.\n                        </dd>\n                        <dt>2000-2001</dt>\n                            <dd>Taller de sombrerería en Barcelona con <i>Nina Pawloswsky</i>.</dd>\n                        <dt>1999-2004</dt>\n                        <dd>\n                        Comencé a trabajar con la marca de moda femenina\n                        <i>Giménez&amp;Zuazo</i> y su otra marca <i>Boba by G&amp;Z</i>,\n                        con distribución nacional e internacional a través de 250\n                        canales multimarca en España, Francia, Italia, Japón y otros.\n                        </dd>\n            \n                        <dd>\n                            Bajo la dirección de los socios, cogestioné el departamento de diseño.\n                            Fui responsable de todo el proceso de diseño y las ilustraciones,\n                            desarrollo de colecciones, investigación de las últimas tendencias,\n                            diseño, redacción y supervisión de especificaciones técnicas,\n                            coordinación con el equipo de patronaje, gestión de accesorios y\n                            materiales, coordinación con empresas de estampación textil y producción.\n                        </dd>\n                        <dt>2004-2010</dt>\n                        <dd>\n                            Directora creativa y socia fundadora de la marca de moda femenina\n                            Obvia. Desarrollo de la idea de negocio, parte del equipo directivo,\n                            codirectora del departamento de diseño, directora de producción,\n                            directora de ventas. Distribución nacional a puntos de venta\n                            multimarca en España. Producción local.\n                        </dd>\n                        <dt>2010-2018</dt>\n                        <dd>\n                            Diseñadora Gráfica Textil Freelance. Diseñadora de estampados para ropa de mujer, hombre y niños&nbsp;para\n                            <i>Padma Diseño S.L., Zara, Pull&amp;Bear, Bershka, Mango, Replay, Springfield, Blue Inc., Studio F Women / STF Group Colombia</i>...\n                        </dd>\n            \n                        <dt>2019</dt>\n                        <dd>\n                        Dejé el mundo de la moda y la ilustración para comenzar a buscar un\n                        modo de expresión más íntimo.\n                        </dd>\n                        <dd>\n                        En paralelo a mi carrera profesional, mantuve una formación constante\n                        en el mundo del arte, con incursiones en diversas técnicas como la\n                        laca, la cerámica, la escultura, el óleo, el arte para niños, los\n                        libros de artista, así como la astrología y el aprendizaje activo.\n                        </dd>\n                        <dd>\n                        Actualmente, vivo con mi pareja, el artista multidisciplinar\n                        Sergio Forés. Madre de dos hijos y en búsqueda de formas alternativas\n                        de vida y educación. En 2014 me mudé a un pequeño pueblo del\n                        Alt Penedès rodeado de viñedos y naturaleza.\n                        </dd>\n                    </dl>\n                `\n            }\n        ];\n\n        this.tabLink = new TabLink(tabsContainer, tabs);\n\n        return this;\n    }\n\n    destroy() {\n        if (this.tabLink) {\n            this.tabLink = null;\n        }\n        super.destroy();\n    }\n}\n","import styles from '../../css/modules/header.module.css';\n\nexport class Header {\n    constructor(container) {\n        this.container = container;\n        if (!this.container) {\n            throw new Error('Header container not found');\n        }\n        this.render();\n        this.addEventListeners();\n    }\n\n    render() {\n        this.container.innerHTML = `\n            <header class=\"${styles.header}\">\n                <a href=\"/\" class=\"${styles.logo}\" data-link>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:bevel;stroke-miterlimit:1.5\" viewBox=\"0 0 408 409\">\n                        <circle cx=\"102436\" cy=\"13938.8\" r=\"553.055\" style=\"fill:none;stroke-width:22.12px\" transform=\"matrix(.36163 0 0 .36163 -36839.796 -4836.64)\"/>\n                        <circle cx=\"102436\" cy=\"13938.8\" r=\"553.055\" style=\"fill:none;stroke-width:33.18px\" transform=\"matrix(.2411 0 0 .2411 -24493.885 -3223.357)\"/>\n                        <circle cx=\"102436\" cy=\"13938.8\" r=\"553.055\" style=\"fill:none;stroke-width:66.36px\" transform=\"translate(-12144.912 -1476.333) scale(.12055)\"/>\n                        <circle cx=\"102436\" cy=\"13938.8\" r=\"553.055\" style=\"fill:none;stroke-width:33.18px\" transform=\"matrix(.2411 0 0 .2411 -24493.885 -3090.011)\"/>\n                    </svg>\n                </a>\n            </header>\n        `;\n    }\n\n    addEventListeners() {\n        // Asegurar que el logo siempre sea clicable\n        const logo = this.container.querySelector(`.${styles.logo}`);\n        if (logo) {\n            logo.addEventListener('click', (e) => {\n                e.preventDefault();\n                const router = window.router || (window.app && window.app.router);\n                if (router) {\n                    router.navigate('/', false);\n                } else {\n                    window.location.href = '/';\n                }\n            });\n        }\n    }\n\n    destroy() {\n        // Limpiar event listeners\n        const logo = this.container.querySelector(`.${styles.logo}`);\n        if (logo) {\n            logo.removeEventListener('click', () => {});\n        }\n    }\n}\n","import styles from '../../css/modules/navigation.module.css';\n\nexport class Navigation {\n    constructor(container) {\n        this.container = container;\n        if (!this.container) {\n            throw new Error('Navigation container not found');\n        }\n        this.isMenuOpen = false;\n        this.render();\n        this.addEventListeners();\n    }\n\n    render() {\n        this.container.innerHTML = `\n            <nav id=\"navbar\" class=\"${styles.menu}\" aria-label=\"Menú principal\">\n                <button class=\"${styles.hamburger}\" \n                        aria-expanded=\"false\"\n                        aria-controls=\"main-menu\"\n                        aria-label=\"Abrir menú\">\n                    <span aria-hidden=\"true\"></span>\n                    <span aria-hidden=\"true\"></span>\n                    <span aria-hidden=\"true\"></span>\n                </button>\n                <div id=\"main-menu\" class=\"${styles.menuItems}\" role=\"menu\">\n                    <a href=\"/exposiciones\" data-link role=\"menuitem\">expo</a>\n                    <a href=\"/artworks\" data-link role=\"menuitem\">artworks</a>\n                    <a href=\"/bio\" data-link role=\"menuitem\">bio</a>\n                </div>\n            </nav>\n        `;\n\n        // Marcar el enlace activo\n        this.updateActiveLink();\n    }\n\n    addEventListeners() {\n        // Toggle menú en móvil\n        const hamburger = this.container.querySelector(`.${styles.hamburger}`);\n        if (hamburger) {\n            hamburger.addEventListener('click', () => {\n                this.isMenuOpen = !this.isMenuOpen;\n                hamburger.classList.toggle(styles.active);\n                hamburger.setAttribute('aria-expanded', this.isMenuOpen);\n                this.container.querySelector(`.${styles.menuItems}`).classList.toggle(styles.active);\n                document.body.classList.toggle('menu-active');\n            });\n\n            // Soporte para teclado\n            hamburger.addEventListener('keydown', (e) => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    hamburger.click();\n                }\n            });\n        }\n\n        // Cerrar menú al hacer click en un enlace\n        const menuItems = this.container.querySelectorAll(`.${styles.menuItems} a`);\n        menuItems.forEach(item => {\n            item.addEventListener('click', (e) => this.handleClick(e));\n\n            // Soporte para teclado en los enlaces\n            item.addEventListener('keydown', (e) => {\n                if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    this.handleClick(e);\n                }\n            });\n        });\n\n        // Gestionar el foco dentro del menú\n        const handleTabKey = (e) => {\n            if (!this.isMenuOpen) return;\n            \n            const focusableElements = this.container.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n            const firstElement = focusableElements[0];\n            const lastElement = focusableElements[focusableElements.length - 1];\n\n            if (e.key === 'Tab') {\n                if (e.shiftKey) {\n                    if (document.activeElement === firstElement) {\n                        e.preventDefault();\n                        lastElement.focus();\n                    }\n                } else {\n                    if (document.activeElement === lastElement) {\n                        e.preventDefault();\n                        firstElement.focus();\n                    }\n                }\n            }\n        };\n\n        this.container.addEventListener('keydown', handleTabKey);\n\n        // Cerrar menú al hacer scroll\n        let lastScroll = window.scrollY;\n        window.addEventListener('scroll', () => {\n            if (window.innerWidth > 768) {\n                const currentScroll = window.scrollY;\n                const navbar = document.getElementById('navbar');\n                \n                if (currentScroll > lastScroll && currentScroll > 100) {\n                    // Scrolling down\n                    navbar.classList.add(styles.hidden);\n                    if (this.isMenuOpen) {\n                        this.isMenuOpen = false;\n                        hamburger.classList.remove(styles.active);\n                        hamburger.setAttribute('aria-expanded', 'false');\n                        this.container.querySelector(`.${styles.menuItems}`).classList.remove(styles.active);\n                        document.body.classList.remove('menu-active');\n                    }\n                } else {\n                    // Scrolling up\n                    navbar.classList.remove(styles.hidden);\n                }\n                lastScroll = currentScroll;\n            }\n        });\n\n        // Actualizar el enlace activo cuando cambia la ruta\n        window.addEventListener('popstate', () => this.updateActiveLink());\n        document.addEventListener('click', (e) => {\n            if (e.target.closest('[data-link]')) {\n                setTimeout(() => this.updateActiveLink(), 0);\n            }\n        });\n    }\n\n    handleClick(e) {\n        const link = e.target.closest('[data-link]');\n        if (link) {\n            e.preventDefault();\n            const href = link.getAttribute('href');\n            \n            // Si estamos en la misma ruta, disparar un evento de reseteo\n            if (href === window.location.pathname) {\n                window.dispatchEvent(new CustomEvent('resetView'));\n            }\n            \n            window.router.navigate(href);\n\n            // Cerrar el menú después de navegar\n            if (window.innerWidth <= 768) {\n                this.isMenuOpen = false;\n                const hamburger = this.container.querySelector(`.${styles.hamburger}`);\n                hamburger.classList.remove(styles.active);\n                hamburger.setAttribute('aria-expanded', 'false');\n                this.container.querySelector(`.${styles.menuItems}`).classList.remove(styles.active);\n                document.body.classList.remove('menu-active');\n            }\n        }\n    }\n\n    updateActiveLink() {\n        const currentPath = window.location.pathname;\n        const links = this.container.querySelectorAll('a');\n        \n        links.forEach(link => {\n            if (link.getAttribute('href') === currentPath) {\n                link.classList.add(styles.active);\n            } else {\n                link.classList.remove(styles.active);\n            }\n        });\n    }\n}\n","import styles from '../../css/modules/footer.module.css';\n\nexport class Footer {\n    constructor(container) {\n        this.container = container;\n        if (!this.container) {\n            throw new Error('Footer container not found');\n        }\n        this.render();\n    }\n\n    render() {\n        this.container.innerHTML = `\n            <div class=\"${styles.footer}\">\n                <a href=\"https://www.instagram.com/noelia__requena/\" target=\"_blank\" rel=\"noopener\" class=\"${styles.socialLink}\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                        <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                    </svg>\n                </a>\n            </div>\n        `;\n    }\n}\n","import { Store } from '../modules/Store.js';\n\n// Action Types\nexport const SET_THEME = 'ui/setTheme';\nexport const TOGGLE_MENU = 'ui/toggleMenu';\nexport const SET_LOADING = 'ui/setLoading';\nexport const SET_ERROR = 'ui/setError';\nexport const CLEAR_ERROR = 'ui/clearError';\n\n// Action Creators\nexport const setTheme = Store.createAction(SET_THEME);\nexport const toggleMenu = Store.createAction(TOGGLE_MENU);\nexport const setLoading = Store.createAction(SET_LOADING);\nexport const setError = Store.createAction(SET_ERROR);\nexport const clearError = Store.createAction(CLEAR_ERROR);\n\n// Initial State\nconst initialState = {\n    theme: 'light',\n    menuOpen: false,\n    loading: false,\n    error: null\n};\n\n// Reducer\nexport const uiReducer = Store.createReducer(initialState, {\n    [SET_THEME]: (state, action) => ({\n        ...state,\n        theme: action.payload\n    }),\n    [TOGGLE_MENU]: (state) => ({\n        ...state,\n        menuOpen: !state.menuOpen\n    }),\n    [SET_LOADING]: (state, action) => ({\n        ...state,\n        loading: action.payload\n    }),\n    [SET_ERROR]: (state, action) => ({\n        ...state,\n        error: action.payload\n    }),\n    [CLEAR_ERROR]: (state) => ({\n        ...state,\n        error: null\n    })\n});\n\n// Selectors\nexport const selectTheme = state => state.ui.theme;\nexport const selectMenuOpen = state => state.ui.menuOpen;\nexport const selectLoading = state => state.ui.loading;\nexport const selectError = state => state.ui.error;\n","import Router from './modules/Router.js';\nimport { Store } from './modules/Store.js';\nimport { EventBus } from './modules/EventBus.js';\nimport { Home } from '../views/Home.js';\nimport { Exposiciones } from '../views/Exposiciones.js';\nimport { Artworks } from '../views/Artworks.js';\nimport { Bio } from '../views/Bio.js';\nimport { Header } from './components/Header.js';\nimport { Navigation } from './components/Navigation.js';\nimport { Footer } from './components/Footer.js';\nimport { uiReducer } from './store/ui.js';\nimport { galleryReducer } from './store/gallery.js';\n\n// Initialize EventBus\nexport const eventBus = new EventBus();\n\n// Initialize Store\nexport const store = new Store();\n\n// Add reducers\nstore.addReducer('ui', uiReducer);\nstore.addReducer('gallery', galleryReducer);\n\n// Add middleware for async actions\nstore.addMiddleware(store => next => action => {\n    if (typeof action === 'function') {\n        return action(store.dispatch, store.getState);\n    }\n    return next(action);\n});\n\n// Create app container\nconst app = {\n    router: null,\n    store,\n    eventBus\n};\n\n// Make app globally available\nwindow.app = app;\n\n// Wait for DOM to be loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Initialize static components\n    const header = new Header(document.getElementById('app-header'));\n    const nav = new Navigation(document.getElementById('app-nav'));\n    const footer = new Footer(document.getElementById('app-footer'));\n    \n    // Initialize router\n    app.router = new Router({\n        container: document.getElementById('app-main'),\n        notFoundHandler: () => {\n            app.router.navigate('/', true); // Redirect to home on 404\n        }\n    });\n\n    // Make router globally available for legacy support\n    window.router = app.router;\n\n    // Add routes\n    app.router\n        .addRoute('/', Home)\n        .addRoute('/exposiciones', Exposiciones)\n        .addRoute('/artworks', Artworks)\n        .addRoute('/bio', Bio)\n        .init();\n});\n"],"names":["Animator","element","duration","resolve","direction","start","end","oldElement","newElement","scrollElement","options","speed","min","max","handleScroll","scrollPos","offset","clampedOffset","Router","e","link","path","view","error","View","newView","pendingPath","url","replace","newPath","normalizedNewPath","normalizedCurrentPath","Store","initialState","slice","reducer","middleware","callback","listeners","action","finalAction","acc","hasChanged","newState","previousStateForSlice","nextStateForSlice","listener","type","actionCreator","payload","handlers","state","reducers","nextState","key","previousStateForKey","nextStateForKey","asyncFn","actions","args","dispatch","result","selectors","combiner","lastResults","lastValue","currentResults","selector","index","EventBus","event","once","events","onceListeners","promises","parts","BaseView","container","title","elementListeners","observer","delay","timeoutId","intervalId","Home","styles","slide","slides","prevBtn","nextBtn","goToSlide","autoAdvance","cleanup","Exposiciones","expo","paragraph","media","source","entries","entry","item","rowHeight","rowGap","contentHeight","rowSpan","handler","id","expoHandler","currentId","currentIndex","SET_IMAGES","SET_CURRENT_IMAGE","SET_FILTER","TOGGLE_LIGHTBOX","loadImages","galleryReducer","selectImages","selectFilter","images","filter","img","_GalleryStore","__publicField","deltaX","deltaY","items","currentItem","isLastItem","lightbox","prevButton","nextButton","content","cb","GalleryStore","Artworks","artwork","grid","image","imageLoadPromises","tabs","tab","lang","t","TabLink","tabButtons","button","Bio","tabsContainer","Header","logo","router","Navigation","hamburger","handleTabKey","focusableElements","firstElement","lastElement","lastScroll","currentScroll","navbar","href","currentPath","Footer","SET_THEME","TOGGLE_MENU","SET_LOADING","SET_ERROR","CLEAR_ERROR","uiReducer","eventBus","store","next","app"],"mappings":"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,yBACL,MAAO,SACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,yBACL,MAAO,SACP,YAAa,mCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,yBACL,MAAO,SACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,yBACL,MAAO,SACP,YAAa,qCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,yBACL,MAAO,SACP,YAAa,sCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,oCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,oCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,oCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,sCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,mCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,qCACb,MAAO,IACP,OAAQ,IACxB,EACY,CACI,IAAK,0BACL,MAAO,UACP,YAAa,qCACb,MAAO,KACP,OAAQ,GACxB,EACY,CACI,IAAK,0B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"}